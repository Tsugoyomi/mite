import{r as i,aH as p,Q as f,w as t,o as V,b as e,bE as b,d as _,p as v,e as w,a as h}from"./entry.6pNwWNX7.js";import{a as x}from"./axios.G2rPRu76.js";import{_ as g}from"./_plugin-vue_export-helper.x3n3nnut.js";import{V as I}from"./VContainer.Y1ooFYaD.js";import{a as S,V as y}from"./VRow.fqiHwSrA.js";import{V as C,a as j,b as k}from"./VCard.8NQANxpd.js";import{V as q}from"./VForm.rH8k5zuP.js";import{e as c}from"./VTextField.gdcGVEzQ.js";import{V as B}from"./VBtn.g99suJ2P.js";/* empty css              */import"./VAvatar.b22ksWPv.js";import"./index.L2hhtsEA.js";const O=r=>(v("data-v-2b194b7e"),r=r(),w(),r),T=O(()=>h("h3",{class:"my-3 text-center"},"EIR AOI - Iris",-1)),E={__name:"Login",setup(r){const n=i(""),l=i(""),m=()=>{x.post("http://127.0.0.1:8000/login",{username:n.value,password:l.value}).then(a=>{if(console.log("Login ==> ",a),a.data.statusCode===200){const o=indexedDB.open("iris",3);o.onupgradeneeded=s=>{const u=s.target.result,d=u.createObjectStore("user",{keyPath:"user_id"});d.createIndex("username","username",{unique:!0}),d.createIndex("token","token",{unique:!0}),d.transaction.oncomplete=async L=>{await u.transaction("user","readwrite").objectStore("user").add(a.data.data),location.href="/"}}}}).catch(a=>{throw new Error(a)})};return p(()=>{}),(a,o)=>(V(),f(I,{fluid:"",class:"h-100 bg-cover"},{default:t(()=>[e(y,{justify:"center",align:"center",class:"h-100"},{default:t(()=>[e(S,{cols:"12",sm:"8",md:"4"},{default:t(()=>[e(C,{class:"bg-primary"},{default:t(()=>[e(j,{class:"headline"},{default:t(()=>[T]),_:1}),e(k,null,{default:t(()=>[e(q,{onSubmit:b(m,["prevent"])},{default:t(()=>[e(c,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s),label:"Username",variant:"outlined",class:"mb-2",required:""},null,8,["modelValue"]),e(c,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=s=>l.value=s),label:"Password",variant:"outlined",type:"password",required:""},null,8,["modelValue"]),e(B,{type:"submit",class:"my-2",block:"",color:"success"},{default:t(()=>[_("GO")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},K=g(E,[["__scopeId","data-v-2b194b7e"]]);export{K as default};
