import{r as i,a as p,c as _,w as t,o as f,b as e,e as V,f as b,p as v,h as g,i as h}from"./entry.3ad6f5c7.js";import{a as w}from"./axios.c24e582b.js";import{_ as x}from"./_plugin-vue_export-helper.c27b6911.js";import{V as y}from"./VContainer.51f2f86a.js";import{V as I,a as S}from"./VRow.d3b503d4.js";import{V as C,a as j,b as k}from"./VCard.f0ffc319.js";import{V as q}from"./VForm.5124d501.js";import{V as c}from"./VTextField.6efbedbb.js";import{V as B}from"./VBtn.202a4522.js";/* empty css              */import"./VAvatar.5f5bb358.js";import"./index.cafcd46a.js";const O=r=>(v("data-v-8487c4b4"),r=r(),g(),r),L=O(()=>h("h3",{class:"my-3 text-center"},"EIR AOI - Iris",-1)),T={__name:"Login",setup(r){const n=i(""),l=i(""),m=()=>{w.post("http://127.0.0.1:8000/login",{username:n.value,password:l.value}).then(a=>{if(console.log("Login ==> ",a),a.data.statusCode===200){const o=indexedDB.open("iris",3);o.onupgradeneeded=s=>{const u=s.target.result,d=u.createObjectStore("user",{keyPath:"user_id"});d.createIndex("username","username",{unique:!0}),d.createIndex("token","token",{unique:!0}),d.transaction.oncomplete=async N=>{await u.transaction("user","readwrite").objectStore("user").add(a.data.data),location.href="/"}}}}).catch(a=>{throw new Error(a)})};return p(()=>{}),(a,o)=>(f(),_(y,{fluid:"",class:"h-100 bg-cover"},{default:t(()=>[e(S,{justify:"center",align:"center",class:"h-100"},{default:t(()=>[e(I,{cols:"12",sm:"8",md:"4"},{default:t(()=>[e(C,{class:"bg-primary"},{default:t(()=>[e(j,{class:"headline"},{default:t(()=>[L]),_:1}),e(k,null,{default:t(()=>[e(q,{onSubmit:V(m,["prevent"])},{default:t(()=>[e(c,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s),label:"Username",variant:"outlined",class:"mb-2",required:""},null,8,["modelValue"]),e(c,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=s=>l.value=s),label:"Password",variant:"outlined",type:"password",required:""},null,8,["modelValue"]),e(B,{type:"submit",class:"my-2",block:"",color:"success"},{default:t(()=>[b("GO")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Q=x(T,[["__scopeId","data-v-8487c4b4"]]);export{Q as default};
